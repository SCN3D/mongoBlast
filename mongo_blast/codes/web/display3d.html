<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
</head>
<script src="https://cdn.rawgit.com/arose/ngl/v2.0.0-dev.31/dist/ngl.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>
    function getUrlVars() {
        var vars = {};
        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
            vars[key] = value;
        });
        return vars;
    }
    let url = getUrlVars()['url'];
    let selection = getUrlVars()['sele'].replace(/%20/g,' ');
    let labeltxt = {};

    document.addEventListener("DOMContentLoaded", function () {
      var stage = new NGL.Stage("viewport");
        stage.loadFile(url).then( function( o ){  
    	    o.addRepresentation( "point", { color: "red", sele: selection, radius: 0.02 } );
          o.addRepresentation( "cartoon",  {colorScheme: "residueindex", opacity: 0.7});
          o.addRepresentation( "label",  { sele: selection, labelType: "residue", color: "green"});
    	    o.autoView();
    	});
    });
  </script>
<body id="viewport" style="margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden;">
  
  <div  style="width: 100%; height: 100%;"></div>
</body>
</html>
